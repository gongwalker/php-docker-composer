version: '2'
services:
    # nginx
    nginx:
        network_mode: "bridge"
        image: "nginx"
        restart: always
        volumes:
            - "./wwwroot:/nginx/data"
            - "./nginx/log:/nginx/log"
            - "./nginx/conf.d:/nginx/conf.d"
            - "./nginx/nginx.conf:/etc/nginx/nginx.conf"
        ports:
            - "8080:80"
    # mysql5.6
    mysql56:
        network_mode: "bridge"
        environment:
            MYSQL_ROOT_PASSWORD: "123456"
            TZ: "Asia/Shanghai" 
        image: "mysql:5.6"
        restart: always
        volumes:
            - "./mysql5.6/data:/var/lib/mysql"
            - "./mysql5.6/conf/my.cnf:/etc/mysql/conf.d/my.cnf"
            - "./mysql5.6/logs:/logs"
            - "./mysql5.6/init:/docker-entrypoint-initdb.d"
        ports:
            - "13356:3306"
    # mysql5.7        
    mysql57:
        network_mode: "bridge"
        environment:
            MYSQL_ROOT_PASSWORD: "123456"
            TZ: "Asia/Shanghai" 
        image: "mysql:5.7"
        restart: always
        volumes:
            - "./mysql5.7/data:/var/lib/mysql"
            - "./mysql5.7/conf/my.cnf:/etc/mysql/conf.d/my.cnf"
            - "./mysql5.7/logs:/logs"
            - "./mysql5.7/init:/docker-entrypoint-initdb.d"
        ports:
            - "13357:3306"
